#!perl -n0
sub r($){
    $_[0]eq"-" && (
        s/([-1].{$w-1}[-1])o([-1])/$1-$2/s ||
        s/([-1].{$w})o([-1].{$w-1}[-1])/$1-$2/s ||
        s/([-1].{$w-1}[-1])o(.{$w}[-1])/$1-$2/s ||
        s/([-1])o([-1].{$w-1}[-1])/$1-$2/s
    )
}
%m=(l,sub{s/x(.)/ox/;r$1},h,sub{s/(.)x/xo/;r$1},k,sub{s/(.)(.{$w})x/x$2o/s;r$1},j,sub{s/x(.{$w})(.)/o$1x/s;r$2});
$w=index$_,"\n";
s/[h-l]+//;
for$c(split'',$&){$m{$c}()}
print
